<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bookings - MPH Booking System</title>
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <!-- Header -->
    <div id="header-placeholder"></div>
    
    <!-- Main Content -->
    <main class="main-content">
        <div class="content-container">
            <!-- Page Title Section -->
            <div class="page-header">
                <div class="page-header-content">
                    <div class="page-title-wrapper">
                        <h1 class="page-title">Book Your Session</h1>
                        <p class="page-subtitle">Select a sport and find available time slots for the upcoming weeks</p>
                    </div>
                    <button class="btn-primary" id="myBookingsBtn">
                        <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="16" y1="2" x2="16" y2="6"></line>
                            <line x1="8" y1="2" x2="8" y2="6"></line>
                            <line x1="3" y1="10" x2="21" y2="10"></line>
                        </svg>
                        My Bookings
                    </button>
                </div>
            </div>
            
            <!-- Sport Filter Cards -->
            <div class="sport-filter-section">
                <h3 class="section-label">Select Sport</h3>
                <div class="sport-filter">
                    <div class="sport-card active" data-sport="basketball">
                        <div class="sport-card-content">
                            <span class="sport-icon">üèÄ</span>
                            <div class="sport-info">
                                <span class="sport-name">Basketball</span>
                                <span class="sport-desc">Full or half court options</span>
                            </div>
                        </div>
                        <div class="sport-card-check">
                            <svg viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                        </div>
                    </div>
                    <div class="sport-card" data-sport="badminton">
                        <div class="sport-card-content">
                            <span class="sport-icon">üè∏</span>
                            <div class="sport-info">
                                <span class="sport-name">Badminton</span>
                                <span class="sport-desc">4 courts available</span>
                            </div>
                        </div>
                        <div class="sport-card-check">
                            <svg viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                        </div>
                    </div>
                    <div class="sport-card" data-sport="volleyball">
                        <div class="sport-card-content">
                            <span class="sport-icon">üèê</span>
                            <div class="sport-info">
                                <span class="sport-name">Volleyball</span>
                                <span class="sport-desc">1 court (full basketball size)</span>
                            </div>
                        </div>
                        <div class="sport-card-check">
                            <svg viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Court Selection Section -->
            <div class="court-selection-section" id="courtSelectionSection">
                <div class="court-selection-header">
                    <h3 class="section-label">Select Court</h3>
                    <p class="court-selection-subtitle">Choose your preferred court configuration</p>
                </div>
                
                <!-- Court Visual Layout -->
                <div class="court-layout-container">
                    <div class="court-layout" id="courtLayout">
                        <!-- Basketball Layout (default) -->
                        <div class="basketball-layout court-visual-layout active" data-sport="basketball">
                            <div class="court-display-wrapper">
                                <!-- Visual Basketball Court -->
                                <div class="basketball-court-visual">
                                    <!-- Half Court Options (Clickable) -->
                                    <div class="half-courts-container">
                                        <div class="court-option half-court-visual left-half" data-court="half-court-1">
                                            <div class="basketball-half-markings">
                                                <div class="hoop-circle"></div>
                                                <div class="key-area">
                                                    <div class="free-throw-line"></div>
                                                    <div class="free-throw-circle"></div>
                                                </div>
                                                <div class="three-point-arc left"></div>
                                                <div class="baseline"></div>
                                            </div>
                                            <div class="court-overlay-content">
                                                <div class="court-label">Half Court 1</div>
                                                <div class="court-price">$25/hour</div>
                                            </div>
                                        </div>
                                        <div class="court-option half-court-visual right-half" data-court="half-court-2">
                                            <div class="basketball-half-markings">
                                                <div class="hoop-circle"></div>
                                                <div class="key-area">
                                                    <div class="free-throw-line"></div>
                                                    <div class="free-throw-circle"></div>
                                                </div>
                                                <div class="three-point-arc right"></div>
                                                <div class="baseline"></div>
                                            </div>
                                            <div class="court-overlay-content">
                                                <div class="court-label">Half Court 2</div>
                                                <div class="court-price">$25/hour</div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Center Line with Center Circle -->
                                    <div class="center-line">
                                        <div class="center-circle"></div>
                                    </div>
                                    
                                    <!-- Full Court Indicator (appears when both halves selected) -->
                                    <div class="full-court-indicator" id="fullCourtIndicator">
                                        <div class="full-court-badge">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <polyline points="20 6 9 17 4 12"></polyline>
                                            </svg>
                                            <span>Full Court - $50/hour</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="court-info-text">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <line x1="12" y1="16" x2="12" y2="12"></line>
                                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                                </svg>
                                <span>Click on half courts to select. Selecting both = Full Court ($50/hr)</span>
                            </div>
                        </div>
                        
                        <!-- Badminton Layout -->
                        <div class="badminton-layout court-visual-layout" data-sport="badminton">
                            <div class="court-display-wrapper">
                                <!-- Visual Badminton Courts (4 courts in 1x4 horizontal grid) -->
                                <div class="badminton-court-visual">
                                    <div class="badminton-courts-grid">
                                        <div class="court-option badminton-court-visual" data-court="badminton-1">
                                            <div class="badminton-markings">
                                                <div class="badminton-net"></div>
                                                <div class="court-lines">
                                                    <div class="doubles-sideline"></div>
                                                    <div class="singles-sideline"></div>
                                                    <div class="service-line short"></div>
                                                    <div class="service-line short bottom"></div>
                                                    <div class="center-service-line"></div>
                                                </div>
                                            </div>
                                            <div class="court-overlay-content">
                                                <div class="court-label">Court 1</div>
                                                <div class="court-price">$15/hr</div>
                                            </div>
                                        </div>
                                        <div class="court-option badminton-court-visual" data-court="badminton-2">
                                            <div class="badminton-markings">
                                                <div class="badminton-net"></div>
                                                <div class="court-lines">
                                                    <div class="doubles-sideline"></div>
                                                    <div class="singles-sideline"></div>
                                                    <div class="service-line short"></div>
                                                    <div class="service-line short bottom"></div>
                                                    <div class="center-service-line"></div>
                                                </div>
                                            </div>
                                            <div class="court-overlay-content">
                                                <div class="court-label">Court 2</div>
                                                <div class="court-price">$15/hr</div>
                                            </div>
                                        </div>
                                        <div class="court-option badminton-court-visual" data-court="badminton-3">
                                            <div class="badminton-markings">
                                                <div class="badminton-net"></div>
                                                <div class="court-lines">
                                                    <div class="doubles-sideline"></div>
                                                    <div class="singles-sideline"></div>
                                                    <div class="service-line short"></div>
                                                    <div class="service-line short bottom"></div>
                                                    <div class="center-service-line"></div>
                                                </div>
                                            </div>
                                            <div class="court-overlay-content">
                                                <div class="court-label">Court 3</div>
                                                <div class="court-price">$15/hr</div>
                                            </div>
                                        </div>
                                        <div class="court-option badminton-court-visual" data-court="badminton-4">
                                            <div class="badminton-markings">
                                                <div class="badminton-net"></div>
                                                <div class="court-lines">
                                                    <div class="doubles-sideline"></div>
                                                    <div class="singles-sideline"></div>
                                                    <div class="service-line short"></div>
                                                    <div class="service-line short bottom"></div>
                                                    <div class="center-service-line"></div>
                                                </div>
                                            </div>
                                            <div class="court-overlay-content">
                                                <div class="court-label">Court 4</div>
                                                <div class="court-price">$15/hr</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="court-info-text">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <line x1="12" y1="16" x2="12" y2="12"></line>
                                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                                </svg>
                                <span>Click to select any available badminton court(s)</span>
                            </div>
                        </div>
                        
                        <!-- Volleyball Layout -->
                        <div class="volleyball-layout court-visual-layout" data-sport="volleyball">
                            <div class="court-display-wrapper">
                                <!-- Visual Volleyball Court -->
                                <div class="volleyball-court-visual">
                                    <div class="court-option volleyball-court-full" data-court="volleyball-court">
                                        <div class="volleyball-markings">
                                            <!-- Vertical Net in Center -->
                                            <div class="volleyball-net-vertical">
                                                <div class="net-post top"></div>
                                                <div class="net-post bottom"></div>
                                            </div>
                                            <!-- Attack Lines (3m from net on each side) -->
                                            <div class="attack-lines">
                                                <div class="attack-line left"></div>
                                                <div class="attack-line right"></div>
                                            </div>
                                            <!-- Court Boundaries -->
                                            <div class="court-boundary-lines">
                                                <div class="boundary-line top"></div>
                                                <div class="boundary-line bottom"></div>
                                                <div class="boundary-line left-side"></div>
                                                <div class="boundary-line right-side"></div>
                                            </div>
                                            <!-- Center Line (under net) -->
                                            <div class="center-line-volleyball"></div>
                                        </div>
                                        <div class="court-overlay-content">
                                            <div class="court-label">Volleyball Court</div>
                                            <div class="court-dimensions">Full Court (18m √ó 9m)</div>
                                            <div class="court-price">$45/hour</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="court-info-text">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <line x1="12" y1="16" x2="12" y2="12"></line>
                                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                                </svg>
                                <span>Full volleyball court with regulation markings</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Selected Court Info -->
                <div class="selected-court-info" id="selectedCourtInfo" style="display: none;">
                    <div class="info-card">
                        <div class="info-header">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"></polyline>
                            </svg>
                            <span>Court Selected</span>
                        </div>
                        <div class="info-content">
                            <p><strong>Selected:</strong> <span id="selectedCourtName">-</span></p>
                            <p><strong>Price:</strong> <span id="selectedCourtPrice">-</span></p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Calendar Section -->
            <div class="calendar-section">
                <div class="calendar-header">
                    <div class="calendar-header-left">
                        <h3 class="calendar-title">Availability</h3>
                        <div class="week-navigation">
                            <button class="week-nav-btn" id="prevWeekBtn" aria-label="Previous week">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="15 18 9 12 15 6"></polyline>
                                </svg>
                            </button>
                            <span class="week-label" id="weekLabel">This Week</span>
                            <button class="week-nav-btn" id="nextWeekBtn" aria-label="Next week">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="9 18 15 12 9 6"></polyline>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="calendar-legend">
                        <div class="legend-item">
                            <span class="legend-dot available"></span>
                            <span class="legend-label">Available</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-dot booked"></span>
                            <span class="legend-label">Booked</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-dot blocked"></span>
                            <span class="legend-label">Blocked</span>
                        </div>
                    </div>
                </div>
                
                <!-- Loading Indicator -->
                <div class="loading-indicator" id="loadingIndicator">
                    <div class="spinner"></div>
                    <p>Loading calendar...</p>
                </div>
                
                <!-- Calendar Grid -->
                <div class="calendar-container" id="calendarContainer" style="display: none;">
                    <div class="calendar-scroll">
                        <div class="calendar-grid" id="calendarGrid">
                            <!-- Time labels column -->
                            <div class="time-column">
                                <div class="time-header"></div>
                                <!-- Time slots will be generated by JS -->
                            </div>
                            
                            <!-- Day columns will be generated by JS -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Footer -->
    <div id="footer-placeholder"></div>
    
    <!-- Scripts -->
    <script src="../js/calendar.js"></script>
    <script src="../js/navigation.js"></script>
    <script>
        // Load header and footer
        fetch('partials/header.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('header-placeholder').innerHTML = data;
                setActiveNav('booking.html');
            });
        
        fetch('partials/footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer-placeholder').innerHTML = data;
            });
    </script>
</body>
</html>
